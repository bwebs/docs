---
sidebar_position: 6
sidebar_label: Control Flow
slug: ./control-flow
toc_max_heading_level: 2
---

import Image from "@theme/IdealImage";
import videoThumbnail from "./assets/video-thumbnail.png";
import controlFlowThumb from "./assets/control-flow.png";
import connectingNodesURL from "./assets/connecting-nodes.mp4";
import draggingNodesURL from "./assets/dragging-nodes.mp4";
import ifNodeURL from "./assets/if-node.mp4";
import controlFlow from "./assets/control-flow.mp4";

# Control Flow

Automations can conditionally execute a branch of the workflow. This can be useful in any case where you may want to change the actions of an automation based on certain data sent with the template.

For example, you may want to send one template if one data field represents a certain value, or another template if it does not:

<video width="783" loop autoPlay muted controls poster={videoThumbnail}>
  <source src={ifNodeURL} />
</video>

## Message Events

The Control Flow step will accept the following events that are returned in the logs/messages functionality. These events can be used to initiate a workflow based on the value returned.

`CLICKED` | `DELIVERED` | `ENQUEUED` | `FILTERED` | `OPENED` | `SENT` | `SIMULATED` | `UNDELIVERABLE` | `UNMAPPED` | `UNROUTABLE`

<Image
  img={require("./assets/control-flow.png")}
  alt="Automation Control Flow"
/>

## Tutorial

Below you can find a walkthrough of a sample control flow using step references.

<video width="783" loop autoPlay muted controls poster={controlFlowThumb}>
  <source src={controlFlow} />
</video>